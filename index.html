<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draft de Softball</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .draft-container {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 1400px;
            margin-top: 20px;
            gap: 20px;
        }
        .team-panel {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 20px;
            width: 35%;
        }
        .players-center {
            width: 30%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .player-pool {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 20px;
            width: 100%;
            margin-bottom: 20px;
        }
        h2 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .player-list {
            list-style: none;
            padding: 0;
            max-height: 500px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
        }
        .player-list li {
            background-color: #e9ecef;
            margin-bottom: 8px;
            padding: 10px;
            border-radius: 5px;
            cursor: grab;
            transition: all 0.2s ease;
        }
        .player-list li:hover {
            background-color: #d0d7dd;
            transform: scale(1.01);
        }
        .player-list li.dragging {
            opacity: 0.5;
            background-color: #b8c2cc;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        .controls button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.2s ease;
        }
        .controls button:hover {
            background-color: #0056b3;
        }
        .controls button.download-btn {
            background-color: #6c757d;
        }
        .controls button.download-btn:hover {
            background-color: #5a6268;
        }
        .current-pick-info {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.1em;
            font-weight: bold;
            color: #007bff;
        }
        .setup-screen {
            width: 80%;
            max-width: 600px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .setup-screen h1 {
            color: #2c3e50;
            margin-bottom: 30px;
        }
        .setup-form {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .form-group {
            display: flex;
            flex-direction: column;
        }
        .form-group label {
            margin-bottom: 5px;
            font-weight: bold;
        }
        .form-group input, .form-group textarea {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        .start-draft-btn {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            margin-top: 20px;
            transition: background-color 0.2s ease;
        }
        .start-draft-btn:hover {
            background-color: #218838;
        }
        .hidden {
            display: none;
        }
        .team1 {
            background-color: #e7f3ff;
        }
        .team2 {
            background-color: #ffebeb;
        }
        .add-players-btn {
            background-color: #17a2b8;
            margin-bottom: 15px;
        }
        .add-players-btn:hover {
            background-color: #138496;
        }
        .player-input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        .player-input-container input {
            flex-grow: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .player-input-container button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
        }
        .drop-target {
            transition: background-color 0.2s ease;
        }
        .drop-target.highlight {
            background-color: #d4edda;
        }
        .position-cell {
            min-height: 40px;
        }
    </style>
</head>
<body>
    <!-- Pantalla de configuración inicial -->
    <div id="setupScreen" class="setup-screen">
        <h1>Configuración del Draft</h1>
        <div class="setup-form">
            <div class="form-group">
                <label for="team1Name">Nombre del Equipo 1:</label>
                <input type="text" id="team1Name" placeholder="Ej: Los Tigres" required>
            </div>
            <div class="form-group">
                <label for="team2Name">Nombre del Equipo 2:</label>
                <input type="text" id="team2Name" placeholder="Ej: Las Águilas" required>
            </div>
            <div class="form-group">
                <label for="playerList">Lista de Jugadores (uno por línea o separados por comas):</label>
                <textarea id="playerList" placeholder="Ej: Juan Pérez&#10;Carlos Gómez&#10;María Rodríguez&#10;Luis Hernández&#10;Ana Torres&#10;Pedro Díaz&#10;Laura Soto&#10;Miguel Reyes&#10;Sofía Vargas&#10;Roberto Cruz&#10;Elena Ramos&#10;Andrés Castro&#10;Gabriela Gil&#10;Fernando Vega&#10;Isabel Núñez&#10;Diego Molina&#10;Valeria Pineda&#10;José Ortiz&#10;Camila Blanco&#10;Ricardo Marín" required></textarea>
            </div>
        </div>
        <button id="startDraftBtn" class="start-draft-btn">Comenzar Draft</button>
    </div>

    <!-- Pantalla principal del draft (inicialmente oculta) -->
    <div id="draftScreen" class="hidden">
        <h1>Simulador de Draft de Softball</h1>
        <p class="current-pick-info" id="currentPickInfo">Es el turno del <span id="currentTeamName"></span> para elegir.</p>

        <div class="draft-container">
            <!-- Equipo 1 -->
            <div class="team-panel team1">
                <h2 id="team1Title">Equipo 1</h2>
                <table id="team1Table">
                    <thead>
                        <tr>
                            <th>Posición</th>
                            <th>Jugador</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Pitcher</td>
                            <td id="team1-pitcher" class="position-cell drop-target" data-position="pitcher" data-team="1" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>Catcher</td>
                            <td id="team1-catcher" class="position-cell drop-target" data-position="catcher" data-team="1" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>1ra Base</td>
                            <td id="team1-firstBase" class="position-cell drop-target" data-position="firstBase" data-team="1" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>2da Base</td>
                            <td id="team1-secondBase" class="position-cell drop-target" data-position="secondBase" data-team="1" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>3ra Base</td>
                            <td id="team1-thirdBase" class="position-cell drop-target" data-position="thirdBase" data-team="1" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>Shortstop</td>
                            <td id="team1-shortstop" class="position-cell drop-target" data-position="shortstop" data-team="1" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>J. Izquierdo</td>
                            <td id="team1-leftField" class="position-cell drop-target" data-position="leftField" data-team="1" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>J. Central</td>
                            <td id="team1-centerField" class="position-cell drop-target" data-position="centerField" data-team="1" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>J. Derecho</td>
                            <td id="team1-rightField" class="position-cell drop-target" data-position="rightField" data-team="1" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>DH/Extras</td>
                            <td id="team1-extra" class="position-cell drop-target" data-position="extra" data-team="1" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Jugadores disponibles en el centro -->
            <div class="players-center">
                <div class="player-pool">
                    <h2>Jugadores Disponibles</h2>
                    <button id="addPlayersBtn" class="controls button add-players-btn" onclick="showAddPlayers()">Agregar más jugadores</button>
                    <div id="addPlayersSection" class="hidden">
                        <div class="player-input-container">
                            <input type="text" id="newPlayerName" placeholder="Nombre del jugador">
                            <button onclick="addNewPlayer()">Agregar</button>
                        </div>
                    </div>
                    <ul id="availablePlayers" class="player-list">
                        <!-- Jugadores se cargarán aquí -->
                    </ul>
                </div>
            </div>

            <!-- Equipo 2 -->
            <div class="team-panel team2">
                <h2 id="team2Title">Equipo 2</h2>
                <table id="team2Table">
                    <thead>
                        <tr>
                            <th>Posición</th>
                            <th>Jugador</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Pitcher</td>
                            <td id="team2-pitcher" class="position-cell drop-target" data-position="pitcher" data-team="2" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>Catcher</td>
                            <td id="team2-catcher" class="position-cell drop-target" data-position="catcher" data-team="2" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>1ra Base</td>
                            <td id="team2-firstBase" class="position-cell drop-target" data-position="firstBase" data-team="2" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>2da Base</td>
                            <td id="team2-secondBase" class="position-cell drop-target" data-position="secondBase" data-team="2" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>3ra Base</td>
                            <td id="team2-thirdBase" class="position-cell drop-target" data-position="thirdBase" data-team="2" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>Shortstop</td>
                            <td id="team2-shortstop" class="position-cell drop-target" data-position="shortstop" data-team="2" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>J. Izquierdo</td>
                            <td id="team2-leftField" class="position-cell drop-target" data-position="leftField" data-team="2" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>J. Central</td>
                            <td id="team2-centerField" class="position-cell drop-target" data-position="centerField" data-team="2" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>J. Derecho</td>
                            <td id="team2-rightField" class="position-cell drop-target" data-position="rightField" data-team="2" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                        <tr>
                            <td>DH/Extras</td>
                            <td id="team2-extra" class="position-cell drop-target" data-position="extra" data-team="2" ondrop="dropPlayer(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="controls">
            <button onclick="resetDraft()">Reiniciar Draft</button>
            <button class="download-btn" onclick="downloadPDF()">Descargar Selecciones (PDF)</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Variables globales
        let allPlayers = [];
        let availablePlayers = [];
        let team1 = {
            name: "Equipo 1",
            players: {},
            extras: []
        };
        let team2 = {
            name: "Equipo 2",
            players: {},
            extras: []
        };
        let currentPickingTeam = 1;
        let draggedPlayer = null;

        // Posiciones de softball
        const positions = [
            { id: "pitcher", name: "Pitcher" },
            { id: "catcher", name: "Catcher" },
            { id: "firstBase", name: "1ra Base" },
            { id: "secondBase", name: "2da Base" },
            { id: "thirdBase", name: "3ra Base" },
            { id: "shortstop", name: "Shortstop" },
            { id: "leftField", name: "J. Izquierdo" },
            { id: "centerField", name: "J. Central" },
            { id: "rightField", name: "J. Derecho" },
            { id: "extra", name: "DH/Extra" }
        ];

        // Elementos del DOM
        const setupScreen = document.getElementById('setupScreen');
        const draftScreen = document.getElementById('draftScreen');
        const team1NameInput = document.getElementById('team1Name');
        const team2NameInput = document.getElementById('team2Name');
        const playerListInput = document.getElementById('playerList');
        const startDraftBtn = document.getElementById('startDraftBtn');
        const currentPickInfo = document.getElementById('currentPickInfo');
        const currentTeamNameSpan = document.getElementById('currentTeamName');
        const team1Title = document.getElementById('team1Title');
        const team2Title = document.getElementById('team2Title');
        const availablePlayersUl = document.getElementById('availablePlayers');
        const addPlayersBtn = document.getElementById('addPlayersBtn');
        const addPlayersSection = document.getElementById('addPlayersSection');
        const newPlayerNameInput = document.getElementById('newPlayerName');

        // Inicializar el draft
        function initializeDraft() {
            // Obtener nombres de equipos
            team1.name = team1NameInput.value || "Equipo 1";
            team2.name = team2NameInput.value || "Equipo 2";
            
            // Actualizar títulos
            team1Title.textContent = team1.name;
            team2Title.textContent = team2.name;
            
            // Obtener lista de jugadores
            const playersText = playerListInput.value;
            // Dividir por líneas o comas
            allPlayers = playersText.split(/[\n,]/)
                .map(player => player.trim())
                .filter(player => player !== "");
            
            // Si no hay jugadores ingresados, usar los predeterminados
            if (allPlayers.length === 0) {
                allPlayers = [
                    "Juan Pérez", "Carlos Gómez", "María Rodríguez", "Luis Hernández", 
                    "Ana Torres", "Pedro Díaz", "Laura Soto", "Miguel Reyes", 
                    "Sofía Vargas", "Roberto Cruz", "Elena Ramos", "Andrés Castro", 
                    "Gabriela Gil", "Fernando Vega", "Isabel Núñez", "Diego Molina", 
                    "Valeria Pineda", "José Ortiz", "Camila Blanco", "Ricardo Marín"
                ];
            }
            
            // Inicializar listas de jugadores
            availablePlayers = [...allPlayers];
            
            // Inicializar jugadores de los equipos
            positions.forEach(pos => {
                if (pos.id !== 'extra') {
                    team1.players[pos.id] = null;
                    team2.players[pos.id] = null;
                }
            });
            team1.extras = [];
            team2.extras = [];
            
            // Actualizar tablas de equipos
            updateTeamTables();
            
            // Actualizar lista de jugadores disponibles
            updateAvailablePlayers();
            
            // Actualizar información del turno
            updateTurnInfo();
            
            // Mostrar pantalla del draft
            setupScreen.classList.add('hidden');
            draftScreen.classList.remove('hidden');
        }

        // Actualizar las tablas de los equipos
        function updateTeamTables() {
            positions.forEach(pos => {
                if (pos.id !== 'extra') {
                    const team1Cell = document.getElementById(`team1-${pos.id}`);
                    const team2Cell = document.getElementById(`team2-${pos.id}`);
                    
                    team1Cell.textContent = team1.players[pos.id] || "(Vacante)";
                    team2Cell.textContent = team2.players[pos.id] || "(Vacante)";
                    
                    // Actualizar clases según si está ocupado o no
                    if (team1.players[pos.id]) {
                        team1Cell.classList.add('selected');
                    } else {
                        team1Cell.classList.remove('selected');
                    }
                    
                    if (team2.players[pos.id]) {
                        team2Cell.classList.add('selected');
                    } else {
                        team2Cell.classList.remove('selected');
                    }
                } else {
                    document.getElementById(`team1-${pos.id}`).textContent = 
                        team1.extras.length > 0 ? team1.extras.join(", ") : "(Vacante)";
                    document.getElementById(`team2-${pos.id}`).textContent = 
                        team2.extras.length > 0 ? team2.extras.join(", ") : "(Vacante)";
                }
            });
        }

        // Actualizar lista de jugadores disponibles
        function updateAvailablePlayers() {
            availablePlayersUl.innerHTML = '';
            if (availablePlayers.length === 0) {
                const li = document.createElement('li');
                li.textContent = "No hay jugadores disponibles";
                availablePlayersUl.appendChild(li);
            } else {
                availablePlayers.forEach(player => {
                    const li = document.createElement('li');
                    li.textContent = player;
                    li.draggable = true;
                    li.dataset.player = player;
                    li.addEventListener('dragstart', dragPlayer);
                    availablePlayersUl.appendChild(li);
                });
            }
        }

        // Funciones para drag and drop
        function dragPlayer(e) {
            draggedPlayer = e.target.dataset.player;
            e.target.classList.add('dragging');
            e.dataTransfer.setData('text/plain', e.target.dataset.player);
            e.dataTransfer.effectAllowed = 'move';
        }

        function allowDrop(e) {
            e.preventDefault();
            e.currentTarget.classList.add('highlight');
        }

        function dragLeave(e) {
            e.currentTarget.classList.remove('highlight');
        }

        function dropPlayer(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('highlight');
            
            const player = e.dataTransfer.getData('text/plain');
            const positionId = e.currentTarget.dataset.position;
            const team = parseInt(e.currentTarget.dataset.team);
            
            // Verificar que sea el turno del equipo correcto (excepto para extras)
            if (positionId !== 'extra' && currentPickingTeam !== team) {
                alert(`No es el turno de ${team === 1 ? team1.name : team2.name}. Es el turno de ${currentPickingTeam === 1 ? team1.name : team2.name}.`);
                return;
            }
            
            // Asignar jugador
            assignPlayerToPosition(player, positionId, team);
        }

        // Asignar jugador a una posición
        function assignPlayerToPosition(player, positionId, team) {
            // Verificar que el jugador no esté ya en el equipo
            if (team === 1) {
                if (Object.values(team1.players).includes(player) || team1.extras.includes(player)) {
                    alert("Este jugador ya está en el equipo.");
                    return;
                }
            } else {
                if (Object.values(team2.players).includes(player) || team2.extras.includes(player)) {
                    alert("Este jugador ya está en el equipo.");
                    return;
                }
            }
            
            // Asignar jugador
            if (positionId !== 'extra') {
                if (team === 1) {
                    team1.players[positionId] = player;
                } else {
                    team2.players[positionId] = player;
                }
                
                // Eliminar jugador de la lista de disponibles
                const index = availablePlayers.indexOf(player);
                if (index !== -1) {
                    availablePlayers.splice(index, 1);
                }
                
                // Cambiar turno
                currentPickingTeam = currentPickingTeam === 1 ? 2 : 1;
            } else {
                if (team === 1) {
                    team1.extras.push(player);
                } else {
                    team2.extras.push(player);
                }
                
                // No cambia el turno para extras
            }
            
            // Actualizar UI
            updateTeamTables();
            updateAvailablePlayers();
            updateTurnInfo();
        }

        // Mostrar sección para agregar jugadores
        function showAddPlayers() {
            addPlayersSection.classList.toggle('hidden');
        }

        // Agregar nuevo jugador
        function addNewPlayer() {
            const playerName = newPlayerNameInput.value.trim();
            if (playerName === "") {
                alert("Por favor ingresa un nombre válido.");
                return;
            }
            
            if (allPlayers.includes(playerName)) {
                alert("Este jugador ya existe.");
                return;
            }
            
            allPlayers.push(playerName);
            availablePlayers.push(playerName);
            
            newPlayerNameInput.value = "";
            updateAvailablePlayers();
            addPlayersSection.classList.add('hidden');
        }

        // Actualizar información del turno
        function updateTurnInfo() {
            const currentTeam = currentPickingTeam === 1 ? team1 : team2;
            currentTeamNameSpan.textContent = currentTeam.name;
            currentTeamNameSpan.style.color = currentPickingTeam === 1 ? '#007bff' : '#dc3545';
            currentPickInfo.textContent = `Es el turno de ${currentTeam.name} para elegir.`;
        }

        // Reiniciar el draft
        function resetDraft() {
            if (confirm('¿Estás seguro que quieres reiniciar el draft? Se perderán todos los jugadores elegidos.')) {
                setupScreen.classList.remove('hidden');
                draftScreen.classList.add('hidden');
            }
        }

        // Descargar PDF con las selecciones
        function downloadPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            let yOffset = 20;
            const lineHeight = 10;

            doc.setFontSize(20);
            doc.text("Resultados del Draft de Softball", 105, yOffset, null, null, "center");
            yOffset += 20;

            // Equipo 1
            doc.setFontSize(16);
            doc.text(`${team1.name}:`, 20, yOffset);
            yOffset += lineHeight;
            
            let hasPlayers1 = false;
            positions.forEach(pos => {
                if (pos.id !== 'extra') {
                    if (team1.players[pos.id]) {
                        doc.setFontSize(12);
                        doc.text(`- ${pos.name}: ${team1.players[pos.id]}`, 25, yOffset);
                        yOffset += lineHeight;
                        hasPlayers1 = true;
                    }
                } else {
                    if (team1.extras.length > 0) {
                        doc.setFontSize(12);
                        doc.text(`- ${pos.name}: ${team1.extras.join(", ")}`, 25, yOffset);
                        yOffset += lineHeight;
                        hasPlayers1 = true;
                    }
                }
            });
            
            if (!hasPlayers1) {
                doc.setFontSize(12);
                doc.text("No hay jugadores seleccionados.", 25, yOffset);
                yOffset += lineHeight;
            }
            
            yOffset += 10;

            // Equipo 2
            doc.setFontSize(16);
            doc.text(`${team2.name}:`, 20, yOffset);
            yOffset += lineHeight;
            
            let hasPlayers2 = false;
            positions.forEach(pos => {
                if (pos.id !== 'extra') {
                    if (team2.players[pos.id]) {
                        doc.setFontSize(12);
                        doc.text(`- ${pos.name}: ${team2.players[pos.id]}`, 25, yOffset);
                        yOffset += lineHeight;
                        hasPlayers2 = true;
                    }
                } else {
                    if (team2.extras.length > 0) {
                        doc.setFontSize(12);
                        doc.text(`- ${pos.name}: ${team2.extras.join(", ")}`, 25, yOffset);
                        yOffset += lineHeight;
                        hasPlayers2 = true;
                    }
                }
            });
            
            if (!hasPlayers2) {
                doc.setFontSize(12);
                doc.text("No hay jugadores seleccionados.", 25, yOffset);
                yOffset += lineHeight;
            }

            doc.save(`Draft_Softball_${team1.name}_vs_${team2.name}.pdf`);
        }

        // Event listeners
        startDraftBtn.addEventListener('click', initializeDraft);

        // Permitir iniciar con Enter en los campos de texto
        team1NameInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') initializeDraft();
        });
        team2NameInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') initializeDraft();
        });
        playerListInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') initializeDraft();
        });
        newPlayerNameInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') addNewPlayer();
        });
    </script>
</body>
</html>